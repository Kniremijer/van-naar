---
import Converter from '../components/Converter.astro';
import { pairs } from '../data/units.ts';

/* URL-parameters, bv. { from: 'km', to: 'mm' } */
const { from, to } = Astro.params;

/* SEO */
const title       = `Omrekenen van ${from} naar ${to}`;
const description = `Reken ${from} om naar ${to}. Inclusief formule, voorbeelden en direct resultaat.`;

/* FAQ-snippet */
const faq = [
  {
    q: `Hoeveel ${to} is 1 ${from}?`,
    a: `1 ${from} staat gelijk aanâ€¦`   // (waarde vullen we client-side in)
  },
  {
    q: `Hoe reken ik ${from} naar ${to}?`,
    a: `Gebruik de converter of vermenigvuldig de waarde met de omrekenfactor.`
  }
];

/* ðŸ”‘ Genereer alle paginaâ€™s */
export function getStaticPaths() {
  return pairs.map(([from, to]) => ({
    params: { from, to }
  }));
}
---

<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <script type="application/ld+json">
      {JSON.stringify({
        '@context': 'https://schema.org',
        '@type': 'FAQPage',
        mainEntity: faq.map(({ q, a }) => ({
          '@type': 'Question',
          name: q,
          acceptedAnswer: { '@type': 'Answer', text: a }
        }))
      })}
    </script>
  </head>
  <body>
    <h1>{title}</h1>
    <p>{description}</p>

    <Converter />

    <h2>Veelgestelde vragen</h2>
    <ul>
      {faq.map(({ q, a }) => (
        <li><strong>{q}</strong><br/>{a}</li>
      ))}
    </ul>

    <p><a href="/">Terug naar startpagina</a></p>
  </body>
</html>
